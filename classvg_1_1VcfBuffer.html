<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>vg: vg::VcfBuffer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">vg
   </div>
   <div id="projectbrief">tools for working with variation graphs</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacevg.html">vg</a></li><li class="navelem"><a class="el" href="classvg_1_1VcfBuffer.html">VcfBuffer</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="classvg_1_1VcfBuffer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">vg::VcfBuffer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;vcf_buffer.hpp&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac855a338ea08f2ea75dc73206f9d7520"><td class="memItemLeft" align="right" valign="top">vcflib::Variant *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1VcfBuffer.html#ac855a338ea08f2ea75dc73206f9d7520">get</a> ()</td></tr>
<tr class="separator:ac855a338ea08f2ea75dc73206f9d7520"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d8968beb2952113ea8a724dad1e1752"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1VcfBuffer.html#a1d8968beb2952113ea8a724dad1e1752">handle_buffer</a> ()</td></tr>
<tr class="separator:a1d8968beb2952113ea8a724dad1e1752"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afff803310f8c3bca9788b30ebba8450f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1VcfBuffer.html#afff803310f8c3bca9788b30ebba8450f">fill_buffer</a> ()</td></tr>
<tr class="separator:afff803310f8c3bca9788b30ebba8450f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0a4db2dd14b0a00545ef726879a0951"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1VcfBuffer.html#ae0a4db2dd14b0a00545ef726879a0951">has_tabix</a> () const</td></tr>
<tr class="separator:ae0a4db2dd14b0a00545ef726879a0951"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a636a74fef67c3cfd59730db3ed427c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1VcfBuffer.html#a0a636a74fef67c3cfd59730db3ed427c">set_region</a> (const string &amp;contig, int64_t start=-1, int64_t end=-1)</td></tr>
<tr class="separator:a0a636a74fef67c3cfd59730db3ed427c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a402d5cadd95f5725876b22b8c9bd830b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1VcfBuffer.html#a402d5cadd95f5725876b22b8c9bd830b">VcfBuffer</a> (vcflib::VariantCallFile *<a class="el" href="classvg_1_1VcfBuffer.html#a6d744dafd27fb2fdea09d106b1553a55">file</a>=nullptr)</td></tr>
<tr class="separator:a402d5cadd95f5725876b22b8c9bd830b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a13f0fa2e0b50cd133c117bd1f34715c3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1VcfBuffer.html#a13f0fa2e0b50cd133c117bd1f34715c3">has_buffer</a> = false</td></tr>
<tr class="separator:a13f0fa2e0b50cd133c117bd1f34715c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac280837b05f233e4420c6e8a7bbef32b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1VcfBuffer.html#ac280837b05f233e4420c6e8a7bbef32b">safe_to_get</a> = true</td></tr>
<tr class="separator:ac280837b05f233e4420c6e8a7bbef32b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92c8a919554e2a7dd2ca34fae94948fc"><td class="memItemLeft" align="right" valign="top">vcflib::Variant&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1VcfBuffer.html#a92c8a919554e2a7dd2ca34fae94948fc">buffer</a></td></tr>
<tr class="separator:a92c8a919554e2a7dd2ca34fae94948fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d744dafd27fb2fdea09d106b1553a55"><td class="memItemLeft" align="right" valign="top">vcflib::VariantCallFile *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1VcfBuffer.html#a6d744dafd27fb2fdea09d106b1553a55">file</a></td></tr>
<tr class="separator:a6d744dafd27fb2fdea09d106b1553a55"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ad388f47df62ebab69ab9188efd37be1e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1VcfBuffer.html#ad388f47df62ebab69ab9188efd37be1e">VcfBuffer</a> (const <a class="el" href="classvg_1_1VcfBuffer.html">VcfBuffer</a> &amp;other)=delete</td></tr>
<tr class="separator:ad388f47df62ebab69ab9188efd37be1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0157d603d27d962a8dbd83d12e0fad6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classvg_1_1VcfBuffer.html">VcfBuffer</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1VcfBuffer.html#ae0157d603d27d962a8dbd83d12e0fad6">operator=</a> (const <a class="el" href="classvg_1_1VcfBuffer.html">VcfBuffer</a> &amp;other)=delete</td></tr>
<tr class="separator:ae0157d603d27d962a8dbd83d12e0fad6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Provides a one-variant look-ahead buffer on a vcflib::VariantFile. Lets construction functions peek and see if they want the next variant, or lets them ignore it for the next construction function for a different contig to handle. Ought not to be copied. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a402d5cadd95f5725876b22b8c9bd830b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a402d5cadd95f5725876b22b8c9bd830b">&#9670;&nbsp;</a></span>VcfBuffer() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vg::VcfBuffer::VcfBuffer </td>
          <td>(</td>
          <td class="paramtype">vcflib::VariantCallFile *&#160;</td>
          <td class="paramname"><em>file</em> = <code>nullptr</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Make a new <a class="el" href="classvg_1_1VcfBuffer.html">VcfBuffer</a> buffering the file at the given pointer (which must outlive the buffer, but which may be null). </p>

</div>
</div>
<a id="ad388f47df62ebab69ab9188efd37be1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad388f47df62ebab69ab9188efd37be1e">&#9670;&nbsp;</a></span>VcfBuffer() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vg::VcfBuffer::VcfBuffer </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classvg_1_1VcfBuffer.html">VcfBuffer</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="afff803310f8c3bca9788b30ebba8450f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afff803310f8c3bca9788b30ebba8450f">&#9670;&nbsp;</a></span>fill_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vg::VcfBuffer::fill_buffer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Can be called when the buffer is filled or empty. If there is no variant in the buffer, tries to load a variant into the buffer, if one can be obtained from the file. </p>

</div>
</div>
<a id="ac855a338ea08f2ea75dc73206f9d7520"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac855a338ea08f2ea75dc73206f9d7520">&#9670;&nbsp;</a></span>get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vcflib::Variant * vg::VcfBuffer::get </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a pointer to the buffered variant, or null if no variant is buffered. Pointer is invalidated when the buffer is handled.</p>
<p>Although the variant is not const, it may not be moved out of or modified in ways that confuse vcflib. </p>

</div>
</div>
<a id="a1d8968beb2952113ea8a724dad1e1752"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d8968beb2952113ea8a724dad1e1752">&#9670;&nbsp;</a></span>handle_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vg::VcfBuffer::handle_buffer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>To be called when the buffer is filled. Marks the buffered variant as handled, discarding it, and allowing another to be read. </p>

</div>
</div>
<a id="ae0a4db2dd14b0a00545ef726879a0951"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0a4db2dd14b0a00545ef726879a0951">&#9670;&nbsp;</a></span>has_tabix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool vg::VcfBuffer::has_tabix </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This returns true if we have a tabix index, and false otherwise. If this is false, set_region may be called, but will do nothing and return false. </p>

</div>
</div>
<a id="ae0157d603d27d962a8dbd83d12e0fad6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0157d603d27d962a8dbd83d12e0fad6">&#9670;&nbsp;</a></span>operator=()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classvg_1_1VcfBuffer.html">VcfBuffer</a>&amp; vg::VcfBuffer::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classvg_1_1VcfBuffer.html">VcfBuffer</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a0a636a74fef67c3cfd59730db3ed427c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a636a74fef67c3cfd59730db3ed427c">&#9670;&nbsp;</a></span>set_region()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool vg::VcfBuffer::set_region </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>contig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>start</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>end</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This tries to set the region on the underlying vcflib VariantCallFile to the given contig and region, if specified. Coordinates coming in should be 0-based, and will be converted to 1-based internally.</p>
<p>Returns true if the region was successfully set, and false otherwise (for example, if there is not tabix index, or if the given region is not part of this VCF. Note that if there is a tabix index, and set_region returns false, the position in the VCF file is undefined until the next successful set_region call.</p>
<p>If either of start and end are specified, then both of start and end must be specified.</p>
<p>Discards any variants previously in the buffer. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a92c8a919554e2a7dd2ca34fae94948fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92c8a919554e2a7dd2ca34fae94948fc">&#9670;&nbsp;</a></span>buffer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vcflib::Variant vg::VcfBuffer::buffer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6d744dafd27fb2fdea09d106b1553a55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d744dafd27fb2fdea09d106b1553a55">&#9670;&nbsp;</a></span>file</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vcflib::VariantCallFile* const vg::VcfBuffer::file</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a13f0fa2e0b50cd133c117bd1f34715c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13f0fa2e0b50cd133c117bd1f34715c3">&#9670;&nbsp;</a></span>has_buffer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool vg::VcfBuffer::has_buffer = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac280837b05f233e4420c6e8a7bbef32b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac280837b05f233e4420c6e8a7bbef32b">&#9670;&nbsp;</a></span>safe_to_get</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool vg::VcfBuffer::safe_to_get = true</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="vcf__buffer_8hpp.html">vcf_buffer.hpp</a></li>
<li>src/<a class="el" href="vcf__buffer_8cpp.html">vcf_buffer.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
